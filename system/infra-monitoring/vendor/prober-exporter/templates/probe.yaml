{{- if .Values.enabled }}
apiVersion: monitoring.coreos.com/v1
kind: Probe
metadata:
  name: ipProbing
  labels:
    prometheus: {{ .Values.prometheus }}
spec:
  jobName: ipProbing
  prober:
    url: {{ .Values.prober }}
  module: {{ .Values.module }}
  interval: {{ .Values.scrapeIntrval }}
  scrapeTimeout: {{ .Values.scrapeTimeout }}
  targets:
    staticConfig:
      static:
        {{- range .Values.static_ip_targets }}
        - {{ . }}
        {{- end }}
     labels:
       target: sapcp_apim # static labels assigned to every metric of this set
{{ end -}}